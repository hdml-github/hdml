<!DOCTYPE html>
<html>
  <head>
    <script src="/bin/elements.min.js"></script>
    <script>
      const hdml = window['@hdml/elements'];
      hdml.defineDefaults();
    </script>
  </head>
    <body>
      <hdml-model
        name="sales1">
        <!-- Model here -->
      </hdml-model>

      <hdml-io
        name="hdml.io"
        host="http://localhost:2000"
        tenant="common"
        token="gwkcc9k31daqq9909hdshk1==">
      </hdml-io>

      <hdml-model
        name="sales2">

        <hdml-table
          name="tables"
          type="table"
          source="`tenant_postgres`.`information_schema`.`tables`">

          <hdml-field
            name="catalog"
            origin="table_catalog">
          </hdml-field>

          <hdml-field
            name="schema"
            origin="table_schema">
          </hdml-field>

          <hdml-field
            name="table"
            origin="table_name">
          </hdml-field>

          <hdml-field
            name="full"
            clause="concat(`table_catalog`, '-', `table_schema`, '-', `table_name`)">
          </hdml-field>

          <hdml-field
            name="hash"
            clause="concat(`table_catalog`, '-', `table_schema`, '-', `table_name`)"
            type="binary">
          </hdml-field>

          <hdml-field
            name="type"
            origin="table_type">
          </hdml-field>

        </hdml-table>

        <hdml-table
          name="columns"
          type="query"
          source="select * from `tenant_postgres`.`information_schema`.`columns`">

          <hdml-field
            name="catalog"
            origin="table_catalog">
          </hdml-field>

          <hdml-field
            name="schema"
            origin="table_schema">
          </hdml-field>

          <hdml-field
            name="table"
            origin="table_name">
          </hdml-field>

          <hdml-field
            name="column"
            origin="column_name">
          </hdml-field>

          <hdml-field
            name="position"
            origin="ordinal_position"
            type="int-32">
          </hdml-field>

          <hdml-field
            name="default"
            origin="column_default">
          </hdml-field>

          <hdml-field
            name="nullable"
            origin="is_nullable">
          </hdml-field>

          <hdml-field
            name="type"
            origin="data_type">
          </hdml-field>

        </hdml-table>

      </hdml-model>

      <script>
        io = document.querySelector(hdml.getIoTag());
        model = document.querySelector(hdml.getModelTag());
      </script>
    </body>
</html>
