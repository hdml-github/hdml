<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="480px" preserveAspectRatio="none" style="width:440px;height:480px;background:#FFFFFF;" version="1.1" viewBox="0 0 440 480" width="440px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="133" x="152" y="15"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="123" x="157" y="32.9951">Get Query Flow</text><ellipse cx="220" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="141.5,87.2969,308.5,87.2969,298.5,121.2656,131.5,121.2656" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="157" x="141.5" y="108.4355">tenant: string, qid: string</text><rect fill="none" height="190.2031" style="stroke:#000000;stroke-width:1.5;" width="418" x="11" y="131.2656"/><path d="M52,131.2656 L52,140.5625 L42,150.5625 L11,150.5625 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="14" y="145.2607">auth</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="273" x="83.5" y="167.5625"/><line style="stroke:#181818;stroke-width:0.5;" x1="88.5" x2="88.5" y1="167.5625" y2="201.5313"/><line style="stroke:#181818;stroke-width:0.5;" x1="351.5" x2="351.5" y1="167.5625" y2="201.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="253" x="93.5" y="188.7012">const env: Env = await readEnv(tenant);</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="315" x="62.5" y="221.5313"/><line style="stroke:#181818;stroke-width:0.5;" x1="67.5" x2="67.5" y1="221.5313" y2="255.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="372.5" x2="372.5" y1="221.5313" y2="255.5"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="295" x="72.5" y="242.6699">const key: string = await readKey(env, tenant);</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="398" x="21" y="275.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="26" x2="26" y1="275.5" y2="309.4688"/><line style="stroke:#181818;stroke-width:0.5;" x1="414" x2="414" y1="275.5" y2="309.4688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="378" x="31" y="296.6387">const user: User = await authenticateUser(env, key, token);</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="349" x="45.5" y="341.4688"/><line style="stroke:#181818;stroke-width:0.5;" x1="50.5" x2="50.5" y1="341.4688" y2="375.4375"/><line style="stroke:#181818;stroke-width:0.5;" x1="389.5" x2="389.5" y1="341.4688" y2="375.4375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="329" x="55.5" y="362.6074">const query: Query = await getQuery(env, user, qid);</text><polygon fill="#F1F1F1" points="202.5,395.4375,247.5,395.4375,237.5,429.4063,192.5,429.4063" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="35" x="202.5" y="416.5762">query</text><ellipse cx="220" cy="459.4063" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="213.8128" x2="226.1872" y1="453.2191" y2="465.5934"/><line style="stroke:#222222;stroke-width:2.5;" x1="226.1872" x2="213.8128" y1="453.2191" y2="465.5934"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="67.2969" y2="87.2969"/><polygon fill="#181818" points="216,77.2969,220,87.2969,224,77.2969,220,81.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="201.5313" y2="221.5313"/><polygon fill="#181818" points="216,211.5313,220,221.5313,224,211.5313,220,215.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="255.5" y2="275.5"/><polygon fill="#181818" points="216,265.5,220,275.5,224,265.5,220,269.5" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="121.2656" y2="167.5625"/><polygon fill="#181818" points="216,157.5625,220,167.5625,224,157.5625,220,161.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="309.4688" y2="341.4688"/><polygon fill="#181818" points="216,331.4688,220,341.4688,224,331.4688,220,335.4688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="375.4375" y2="395.4375"/><polygon fill="#181818" points="216,385.4375,220,395.4375,224,385.4375,220,389.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="220" x2="220" y1="429.4063" y2="449.4063"/><polygon fill="#181818" points="216,439.4063,220,449.4063,224,439.4063,220,443.4063" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[691416413230fce10e402032423c0fb7]
@startuml GetQueryFlow
  title Get Query Flow

  start
  :tenant: string, qid: string/
  partition auth {
    :const env: Env = await readEnv(tenant);|
    :const key: string = await readKey(env, tenant);|
    :const user: User = await authenticateUser(env, key, token);|
  }
  :const query: Query = await getQuery(env, user, qid);|
  :query/
  end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>