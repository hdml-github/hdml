<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="389px" preserveAspectRatio="none" style="width:359px;height:389px;background:#FFFFFF;" version="1.1" viewBox="0 0 359 389" width="359px" zoomAndPan="magnify"><defs/><g><ellipse cx="179.5" cy="20" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><polygon fill="#F1F1F1" points="92.5,50,276.5,50,266.5,83.9688,82.5,83.9688" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="174" x="92.5" y="71.1387">tenant: string, token: string</text><rect fill="none" height="190.2031" style="stroke:#000000;stroke-width:1.5;" width="337" x="11" y="93.9688"/><path d="M52,93.9688 L52,103.2656 L42,113.2656 L11,113.2656 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="14" y="107.9639">auth</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="273" x="43" y="130.2656"/><line style="stroke:#181818;stroke-width:0.5;" x1="48" x2="48" y1="130.2656" y2="164.2344"/><line style="stroke:#181818;stroke-width:0.5;" x1="311" x2="311" y1="130.2656" y2="164.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="253" x="53" y="151.4043">const env: Env = await readEnv(tenant);</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="315" x="22" y="184.2344"/><line style="stroke:#181818;stroke-width:0.5;" x1="27" x2="27" y1="184.2344" y2="218.2031"/><line style="stroke:#181818;stroke-width:0.5;" x1="332" x2="332" y1="184.2344" y2="218.2031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="295" x="32" y="205.373">const key: string = await readKey(env, tenant);</text><rect fill="#F1F1F1" height="33.9688" style="stroke:#181818;stroke-width:0.5;" width="317" x="21" y="238.2031"/><line style="stroke:#181818;stroke-width:0.5;" x1="26" x2="26" y1="238.2031" y2="272.1719"/><line style="stroke:#181818;stroke-width:0.5;" x1="333" x2="333" y1="238.2031" y2="272.1719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="297" x="31" y="259.3418">const user: User = await auth(env, key, token);</text><polygon fill="#F1F1F1" points="165.5,304.1719,203.5,304.1719,193.5,338.1406,155.5,338.1406" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="28" x="165.5" y="325.3105">user</text><ellipse cx="179.5" cy="368.1406" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;"/><line style="stroke:#222222;stroke-width:2.5;" x1="173.3128" x2="185.6872" y1="361.9534" y2="374.3278"/><line style="stroke:#222222;stroke-width:2.5;" x1="185.6872" x2="173.3128" y1="361.9534" y2="374.3278"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="179.5" y1="30" y2="50"/><polygon fill="#181818" points="175.5,40,179.5,50,183.5,40,179.5,44" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="179.5" y1="164.2344" y2="184.2344"/><polygon fill="#181818" points="175.5,174.2344,179.5,184.2344,183.5,174.2344,179.5,178.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="179.5" y1="218.2031" y2="238.2031"/><polygon fill="#181818" points="175.5,228.2031,179.5,238.2031,183.5,228.2031,179.5,232.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="179.5" y1="83.9688" y2="130.2656"/><polygon fill="#181818" points="175.5,120.2656,179.5,130.2656,183.5,120.2656,179.5,124.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="179.5" y1="272.1719" y2="304.1719"/><polygon fill="#181818" points="175.5,294.1719,179.5,304.1719,183.5,294.1719,179.5,298.1719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="179.5" y1="338.1406" y2="358.1406"/><polygon fill="#181818" points="175.5,348.1406,179.5,358.1406,183.5,348.1406,179.5,352.1406" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[7d36e1fbb1fe212a66a0f36307e17e85]
@startuml hdml_auth
  start
  :tenant: string, token: string/
  partition auth {
    :const env: Env = await readEnv(tenant);|
    :const key: string = await readKey(env, tenant);|
    :const user: User = await auth(env, key, token);|
  }
  :user/
  end
@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>